{"version":3,"sources":["components/picture/index.jsx","components/canvas/index.js","hooks/use-animated-state.js","App.js","reportWebVitals.js","index.js"],"names":["cacheImgs","Picture","depth","odd","color","top","src","index","url","img","document","createElement","cacheImg","rangeProp","blur","Math","max","left","style","position","width","height","transform","opacity","background","filter","display","alignItems","justifyContent","backgroundImage","CanvasElemFilter","item","far","near","proportion","type","Canvas","list","total","length","map","EasingFunctions","linear","t","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","useAnimatedState","initValue","time","easing","animationFrame","useRef","useState","value","setValue","setAnimatedFunction","useCallback","targetValue","current","cancelAnimationFrame","startTime","Date","now","animatedValue","loop","requestAnimationFrame","onFrame","currProp","abs","round","data","sliders","floor","random","toString","App","scrollPosition","setScrollPosition","className","min","onChange","evt","prop","parseInt","target","updateScrollPosition","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6dfeddee.chunk.js","sourcesContent":["const cacheImgs = {};\n\nfunction cacheImg(url) {\n  if (cacheImgs[url]) return;\n\n  const img = document.createElement(\"img\");\n  img.src = url;\n  cacheImgs[url] = img;\n}\n\nfunction Picture({ depth = 1, odd = true, color, top, src, index }) {\n  cacheImg(src);\n  const rangeProp = depth > 1.2 ? 1 - (depth % 1.2) * 1.5 : depth;\n  const blur = Math.max(0, (1 - rangeProp) * 15);\n  const left = odd ? 100 : -100;\n  const style = {\n    position: \"absolute\",\n    left: \"50%\",\n    top: \"50%\",\n    width: \"200px\",\n    height: \"200px\",\n    transform: `scale(${depth * depth}) translate(${left}%, ${top}%)`,\n    opacity: rangeProp,\n    background: color,\n    filter: `blur(${blur}px)`,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundImage: `url(${src})`,\n  };\n\n  return (\n    <div style={style}>\n      <div>{index}</div>\n    </div>\n  );\n}\n\nexport default Picture;\n","import Picture from \"../picture\";\n\nfunction CanvasElemFilter({ item, far, near, position, odd, index }) {\n  if (position > far || position < near) return null;\n\n  const proportion = (position - near) / far;\n\n  return item.type === \"picture\" ? (\n    <Picture\n      odd={odd}\n      depth={proportion}\n      color={item.color}\n      top={item.top}\n      src={item.img}\n      index={index}\n    />\n  ) : null;\n}\n\nfunction Canvas({ list, proportion }) {\n  const far = 5;\n  const near = -3;\n  const total = list.length + far;\n  const position = total * proportion - far;\n  return (\n    <ul>\n      {list.map((item, index) => (\n        <CanvasElemFilter\n          near={near}\n          far={far}\n          total={total}\n          position={index - position}\n          item={item}\n          odd={index % 2}\n          key={index}\n          index={index}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default Canvas;\n","import { useState, useRef, useCallback } from \"react\";\n\nconst EasingFunctions = {\n  // no easing, no acceleration\n  linear: (t) => t,\n  // accelerating from zero velocity\n  easeInQuad: (t) => t * t,\n  // decelerating to zero velocity\n  easeOutQuad: (t) => t * (2 - t),\n  // acceleration until halfway, then deceleration\n  easeInOutQuad: (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  // accelerating from zero velocity\n  easeInCubic: (t) => t * t * t,\n  // decelerating to zero velocity\n  easeOutCubic: (t) => --t * t * t + 1,\n  // acceleration until halfway, then deceleration\n  easeInOutCubic: (t) =>\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  // accelerating from zero velocity\n  easeInQuart: (t) => t * t * t * t,\n  // decelerating to zero velocity\n  easeOutQuart: (t) => 1 - --t * t * t * t,\n  // acceleration until halfway, then deceleration\n  easeInOutQuart: (t) =>\n    t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  // accelerating from zero velocity\n  easeInQuint: (t) => t * t * t * t * t,\n  // decelerating to zero velocity\n  easeOutQuint: (t) => 1 + --t * t * t * t * t,\n  // acceleration until halfway, then deceleration\n  easeInOutQuint: (t) =>\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,\n};\n\nfunction useAnimatedState(initValue, time, easing = \"linear\") {\n  const animationFrame = useRef();\n  const [value, setValue] = useState(initValue);\n\n  const setAnimatedFunction = useCallback(\n    (targetValue) => {\n      if (animationFrame.current) {\n        cancelAnimationFrame(animationFrame);\n      }\n\n      const startTime = Date.now();\n      const initValue = value;\n      const endValue = targetValue;\n      const animatedValue = endValue - initValue;\n\n      function loop() {\n        animationFrame.current = requestAnimationFrame(onFrame);\n      }\n\n      function onFrame() {\n        const currTime = Date.now();\n        const currProp = (currTime - startTime) / time;\n        setValue(\n          initValue +\n            animatedValue * (EasingFunctions[easing](currProp) || currProp)\n        );\n\n        if (Math.abs(Math.round(currProp * 100) / 100) < 1) loop();\n      }\n\n      loop();\n    },\n    [value, time]\n  );\n\n  return [value, setAnimatedFunction];\n}\n\nexport default useAnimatedState;\n","import { useCallback, useState } from \"react\";\n\nimport \"./App.css\";\n\nimport Canvas from \"./components/canvas\";\nimport data from \"./data/sliders.json\";\nimport useAnimatedState from \"./hooks/use-animated-state\";\n\nconst list = data?.sliders.map((item, index) => ({\n  ...item,\n  color: `#${Math.floor(Math.random() * 16777215).toString(16)}`,\n  top: Math.random() * 200 - 100,\n  img: `https://picsum.photos/seed/${index}/200/200`,\n}));\n\nfunction App() {\n  const [scrollPosition, setScrollPosition] = useAnimatedState(\n    0,\n    1000,\n    \"easeInOutCubic\"\n  );\n\n  const updateScrollPosition = (evt) => {\n    const prop = parseInt(evt.target.value) / 100;\n    setScrollPosition(1 - prop);\n  };\n\n  return (\n    <div className=\"App\">\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"100\"\n        onChange={(evt) => updateScrollPosition(evt)}\n      />\n      <header className=\"App-header\">\n        <Canvas list={list} proportion={scrollPosition} />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}